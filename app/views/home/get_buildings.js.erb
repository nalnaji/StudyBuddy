$("#chat").trigger('leftchat');
$("#buildings-list").empty();
$("#chatroom").empty();
$("#buildings-list").html("<%=j render 'location_list', :locations => @locations, :course => @course %>")
$(".course-link.active").removeClass("active");
$("#course-<%= @course.id %>").addClass("active");
$("#chatroom").html("<%=j render 'shared/alert_message', :message => '<strong>Pick a location on the left</strong> to start chatting!' %>")
$(".location-link").click(function() {
  $("#chat").trigger('leftchat');
  $.get($(this).attr("href"));
  var id = window.setTimeout(function() {}, 0);
  while (id--) {
    window.clearTimeout(id); // will do nothing if no timeout with id is present
  }
  return false;
});
